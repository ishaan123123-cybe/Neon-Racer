<!DOCTYPE html> 

<html>
<head>
  <title>Neon Racer - v7 (It's a test, dummy!)</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="common.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="icon" href="images/neonracericon.png"/>
<link href="speedometer/css/speedometer.css" rel="stylesheet" type="text/css" />
	<style>
		#wrapper {
  position: relative;
  margin: auto;
}
#meter {
  width: 100%; height: 100%;
  transform: rotateX(180deg);
}
.circle {
  fill: none;
}
.outline, #mask {
  stroke: #F1F1F1;
  stroke-width: 65;
}
.range {
  stroke-width: 60;
}
#slider, #lbl {
  position: absolute;
}
#slider {
  cursor: pointer;
  left: 0;
  margin: auto;
  right: 0;
  top: 58%;
  width: 94%;
}
#lbl {
  background-color: #4B4C51;
  border-radius: 2px;
  color: white;
  font-family: 'courier new';
  font-size: 15pt;
  font-weight: bold;
  padding: 4px 4px 2px 4px;
  right: -48px;
  top: 57%;
}
#meter_needle {
  height: 40%;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 10%;
  transform-origin: bottom center;
  /*orientation fix*/
  transform: rotate(270deg);
}
		
		
	</style>
</head> 

<body> 
 <center>
 |<a href='v1.straight.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">straight</a> |
        <a href='v2.curves.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">curves</a>   |  
        <a href='v3.hills.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">hills</a>    |   
        <a href='v4.final.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">fastest lap</a>   |    
        <a href='v5.game.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">out of time</a>|
                <a href='v6.infinite.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">Infinite</a>|

  </center>
  <center><a href='index.html' style="font-family:'Press Start 2P'; color: white; text-shadow: 0 0 20px #f700ff; ">Home</a></center>
  <center>
        <span id="mute"></span>  
  </center>
  <table id="controls">
    <tr>
      <td colspan="2">
      </td>
    </tr>
    <tr><td id="fps" colspan="2" align="right"></td></tr>
    <tr>
      <th><label for="resolution">Resolution :</label></th>
      <td>
        <select id="resolution" style="width:100%">
          <option value='fine'>Fine (1280x960)</option>
          <option selected value='high'>High (1024x768)</option>
          <option value='medium'>Medium (640x480)</option>
          <option value='low'>Low (480x360)</option>
        </select>
      </td>
    </tr>
    <tr>
      <th><label for="lanes">Lanes :</label></th>
      <td>
        <select id="lanes">
          <option>1</option>
          <option>2</option>
          <option selected>3</option>
          <option>4</option>
        </select>
      </td>
    </tr>
    <tr>
      <th><label for="roadWidth">Road Width (<span id="currentRoadWidth"></span>) :</label></th>
      <td><input id="roadWidth" type='range' min='500' max='3000' title="integer (500-3000)"></td>
    </tr>
    <tr>
      <th><label for="cameraHeight">CameraHeight (<span id="currentCameraHeight"></span>) :</label></th>
      <td><input id="cameraHeight" type='range' min='500' max='5000' title="integer (500-5000)"></td>
    </tr>
    <tr>
      <th><label for="drawDistance">Draw Distance (<span id="currentDrawDistance"></span>) :</label></th>
      <td><input id="drawDistance" type='range' min='100' max='500' title="integer (100-500)"></td>
    </tr>
    <tr>
      <th><label for="fieldOfView">Field of View (<span id="currentFieldOfView"></span>) :</label></th>
      <td><input id="fieldOfView" type='range' min='80' max='140' title="integer (80-140)"></td>
    </tr>
    <tr>
      <th><label for="fogDensity">Fog Density (<span id="currentFogDensity"></span>) :</label></th>
      <td><input id="fogDensity" type='range' min='0' max='50' title="integer (0-50)"></td>
    </tr>
  </table>

  <div id='instructions'>
    <p>Use the <b>arrow keys</b> to drive the car.</p>
    <p>Cross the finish line before time runs out.</p>
    <p>Double click for fullscreen. Press CONTROL for turbo.</p>
  </div>

  <audio id='music'>
    <source src="music/jsracer_soundtrack.ogg">
    <source src="music/lsracer_soundtrack.mp3">
  </audio>

  <div id="racer">
    <div id="hud">
      <span id="speed" class="hud"><span id="speed_value" class="value">0</span> mph</span>
      <span id="current_lap_time" class="hud">Time: <span id="current_lap_time_value" class="value">0.0</span></span> 
      <span id="current_level" class="hud">Level: <span id="current_level_value" class="value">0</span></span> 
      <span id="turbo_left" class="hud">Turbo: <span id="turbo_left_value" class="value">0</span></span> 
      <span id="remaining_time" class="hud">Time: <span id="remaining_time_value" class="value">0.0</span></span> 
      <span id="last_lap_time"    class="hud">Last Lap: <span id="last_lap_time_value" class="value">0.0</span></span>
      <span id="fast_lap_time"    class="hud">Fastest Lap: <span id="fast_lap_time_value" class="value">0.0</span></span>
    </div>
    <canvas id="canvas">
      Sorry, this example cannot be run because your browser does not support the &lt;canvas&gt; element
    </canvas>
    Loading...
  </div>
	<div id="wrapper">
    <svg id="meter">
        <circle id="outline_curves" class="circle outline" 
        cx="50%" cy="50%"></circle>
         
        <circle id="low" class="circle range" cx="50%" cy="50%"
        stroke="#FDE47F"></circle>
         
        <circle id="avg" class="circle range" cx="50%" cy="50%"
        stroke="#7CCCE5"></circle>
         
        <circle id="high" class="circle range" cx="50%" cy="50%"
        stroke="#E04644"></circle>
         
        <circle id="mask" class="circle" cx="50%" cy="50%" >
        </circle>
         
        <circle id="outline_ends" class="circle outline"
        cx="50%" cy="50%"></circle>
    </svg>
    <img id="meter_needle" src="gauge-needle.svg" alt="">
    <input id="slider" type="range" min="0" max="100" value="0" />
    <label id="lbl" id="value" for="">0</label>
</div>
	<script>
		/* Set radius for all circles */
var r = 250;
var circles = document.querySelectorAll('.circle');
var total_circles = circles.length;
for (var i = 0; i < total_circles; i++) {
    circles[i].setAttribute('r', r);
}
 
/* Set meter's wrapper dimension */
var meter_dimension = (r * 2) + 100;
var wrapper = document.querySelector("#wrapper");
wrapper.style.width = meter_dimension + "px";
wrapper.style.height = meter_dimension + "px";
 
/* Add strokes to circles  */
var cf = 2 * Math.PI * r;
var semi_cf = cf / 2;
var semi_cf_1by3 = semi_cf / 3;
var semi_cf_2by3 = semi_cf_1by3 * 2;
document.querySelector("#outline_curves")
    .setAttribute("stroke-dasharray", semi_cf + "," + cf);
document.querySelector("#low")
    .setAttribute("stroke-dasharray", semi_cf + "," + cf);
document.querySelector("#avg")
    .setAttribute("stroke-dasharray", semi_cf_2by3 + "," + cf);
document.querySelector("#high")
    .setAttribute("stroke-dasharray", semi_cf_1by3 + "," + cf);
document.querySelector("#outline_ends")
    .setAttribute("stroke-dasharray", 2 + "," + (semi_cf - 2));
document.querySelector("#mask")
    .setAttribute("stroke-dasharray", semi_cf + "," + cf);
 
/* Bind range slider event*/
var slider = document.querySelector("#slider");
var lbl = document.querySelector("#lbl");
var mask = document.querySelector("#mask");
var meter_needle =  document.querySelector("#meter_needle");
 
function range_change_event() {
    var percent = slider.value;
    var meter_value = semi_cf - ((percent * semi_cf) / 100);
    mask.setAttribute("stroke-dasharray", meter_value + "," + cf);
    meter_needle.style.transform = "rotate(" + 
        (270 + ((percent * 180) / 100)) + "deg)";
    lbl.textContent = percent + "%";
}
slider.addEventListener("input", range_change_event);
	</script>
  <div id='gamepad'>
      <div id='gamepad-turbo' class='gamepad-button'><span>Turbo</span></div>
      <div id='gamepad-up' class='gamepad-button'><span>^</span></div>
      <div id='gamepad-left' class='gamepad-button'><span><</span></div>
      <div id='gamepad-right' class='gamepad-button'><span>></span></div>
      <div id='gamepad-down' class='gamepad-button'><span>v</span></div>
  </div>

  <script src="stats.js"></script>
  <script src="common.js"></script>
  <script src="racer.js"></script>
  <script>
    racer(1); // initiate the game
  </script>

</body> 
</html>
