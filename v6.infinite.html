<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Neon Racer - v6 (Infinite Drive)</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
  <link rel="icon" href="images/neonracericon.png" />
  
  <style>
    /* Reset & basic full page */
    html, body {
      margin: 0; 
      padding: 0; 
      height: 100%; 
      overflow: hidden; 
      background: #000000;
      font-family: 'Press Start 2P', cursive;
      color: #f700ff;
      user-select: none;
    }
    
    /* Full screen canvas */
    #canvas {
      display: block;
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: black;
      z-index: 0;
    }

    /* Controls panel hidden by default */
    #controls {
      display: none;
      position: fixed;
      top: 8%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(30, 0, 50, 0.95);
      border: 2px solid #f700ff;
      border-radius: 15px;
      padding: 20px 30px;
      z-index: 10;
      max-width: 400px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 0 20px #f700ff;
    }

    /* Table style */
    #controls table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0 15px;
    }
    #controls th, #controls td {
      padding: 5px 10px;
      vertical-align: middle;
    }
    #controls th {
      text-align: left;
      color: #ff9aff;
      font-size: 0.7rem;
      white-space: nowrap;
    }
    #controls td {
      text-align: right;
    }

    /* Select & input styles */
    #controls select, 
    #controls input[type=range] {
      width: 100%;
      background: #2e0040;
      border: 1.5px solid #f700ff;
      border-radius: 8px;
      color: #f700ff;
      font-family: 'Press Start 2P', cursive;
      font-size: 0.7rem;
      padding: 4px 8px;
      box-shadow: inset 0 0 10px #f700ff;
      cursor: pointer;
      -webkit-appearance: none;
      appearance: none;
    }
    #controls input[type=range] {
      -webkit-appearance: none;
      height: 8px;
      margin: 6px 0;
    }
    #controls input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 16px;
      height: 16px;
      background: #f700ff;
      cursor: pointer;
      border-radius: 50%;
      box-shadow: 0 0 6px #ff00ff;
      border: none;
      margin-top: -4px;
      transition: background 0.3s ease;
    }
    #controls input[type=range]:hover::-webkit-slider-thumb {
      background: #ff33ff;
      box-shadow: 0 0 12px #ff33ff;
    }

    /* Label and span styling */
    #controls label {
      cursor: pointer;
      font-size: 0.75rem;
    }
    #controls span.value {
      color: #ff5aff;
      font-weight: bold;
      font-size: 0.75rem;
      user-select: text;
    }
  </style>
</head> 

<body> 

  <!-- Game Canvas -->
  <canvas id="canvas" >
    Sorry, this example cannot be run because your browser does not support the &lt;canvas&gt; element.
  </canvas>

  <!-- Controls (Options) -->
  <div id="controls">
    <table>
      <tr>
        <th><label for="resolution">Resolution :</label></th>
        <td>
          <select id="resolution">
            <option value='fine'>Fine (1280x960)</option>
            <option selected value='high'>High (1024x768)</option>
            <option value='medium'>Medium (640x480)</option>
            <option value='low'>Low (480x360)</option>
          </select>
        </td>
      </tr>
      <tr>
        <th><label for="lanes">Lanes :</label></th>
        <td>
          <select id="lanes">
            <option>1</option>
            <option>2</option>
            <option selected>3</option>
            <option>4</option>
          </select>
        </td>
      </tr>
      <tr>
        <th><label for="roadWidth">Road Width (<span id="currentRoadWidth" class="value"></span>) :</label></th>
        <td><input id="roadWidth" type='range' min='500' max='3000' title="integer (500-3000)"></td>
      </tr>
      <tr>
        <th><label for="cameraHeight">Camera Height (<span id="currentCameraHeight" class="value"></span>) :</label></th>
        <td><input id="cameraHeight" type='range' min='500' max='5000' title="integer (500-5000)"></td>
      </tr>
      <tr>
        <th><label for="drawDistance">Draw Distance (<span id="currentDrawDistance" class="value"></span>) :</label></th>
        <td><input id="drawDistance" type='range' min='100' max='500' title="integer (100-500)"></td>
      </tr>
      <tr>
        <th><label for="fieldOfView">Field of View (<span id="currentFieldOfView" class="value"></span>) :</label></th>
        <td><input id="fieldOfView" type='range' min='80' max='140' title="integer (80-140)"></td>
      </tr>
      <tr>
        <th><label for="fogDensity">Fog Density (<span id="currentFogDensity" class="value"></span>) :</label></th>
        <td><input id="fogDensity" type='range' min='0' max='50' title="integer (0-50)"></td>
      </tr>
    </table>
  </div>

  <audio id='music'>
    <source src="music/jsracer_soundtrack.ogg">
    <source src="music/lsracer_soundtrack.mp3">
  </audio>

  <script src="sparkle.min.js"></script>
  <script src="stats.js"></script>
  <script src="common.js"></script>
  <script src="infinite.js"></script>

  <script>
    // Show/hide options panel on Ctrl+V
    document.addEventListener('keydown', function(event) {
      if (event.ctrlKey && event.key.toLowerCase() === 'v') {
        event.preventDefault();
        const controls = document.getElementById('controls');
        if (controls.style.display === 'none' || controls.style.display === '') {
          controls.style.display = 'block';
        } else {
          controls.style.display = 'none';
        }
      }
    });

    // Initialize game as before
    racer(1);
  </script>

</body> 
</html>
